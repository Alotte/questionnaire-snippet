System.register([],function(b){"use strict";return{execute:function(){b("atom",_);let U=0;function _(s,i){const v=`atom${++U}`,d={toString:()=>v};return typeof s=="function"?d.read=s:(d.init=s,d.read=h=>h(d),d.write=(h,p,g)=>p(d,typeof g=="function"?g(h(d)):g)),i&&(d.write=i),d}const C=s=>"init"in s,q=s=>!!s.write,E=new WeakMap,$=(s,i)=>{E.set(s,i),s.catch(()=>{}).finally(()=>E.delete(s))},B=(s,i)=>{const v=E.get(s);v&&(E.delete(s),v(i))},G=(s,i)=>{s.status="fulfilled",s.value=i},I=(s,i)=>{s.status="rejected",s.reason=i},M=(s,i)=>"v"in s&&"v"in i&&Object.is(s.v,i.v),L=(s,i)=>"e"in s&&"e"in i&&Object.is(s.e,i.e),z=s=>"v"in s&&s.v instanceof Promise,S=s=>{if("e"in s)throw s.e;return s.v},x=b("createStore",()=>{const s=new WeakMap,i=new WeakMap,v=new Map,d=t=>s.get(t),h=(t,e)=>{const n=s.get(t);if(s.set(t,e),v.has(t)||v.set(t,n),n&&z(n)){const o="v"in e?e.v instanceof Promise?e.v:Promise.resolve(e.v):Promise.reject(e.e);B(n.v,o)}},p=(t,e,n)=>{const o=new Map;let c=!1;n.forEach((r,l)=>{!r&&l===t&&(r=e),r&&(o.set(l,r),e.d.get(l)!==r&&(c=!0))}),(c||e.d.size!==o.size)&&(e.d=o)},g=(t,e,n)=>{const o=d(t),c={d:(o==null?void 0:o.d)||new Map,v:e};return n&&p(t,c,n),o&&M(o,c)&&o.d===c.d?o:(h(t,c),c)},N=(t,e,n,o)=>{if(e instanceof Promise){let c;const r=new Promise((l,m)=>{let a=!1;e.then(f=>{if(!a){a=!0;const u=d(t),y=g(t,r,n);G(r,f),l(f),(u==null?void 0:u.d)!==y.d&&D(t,y,u==null?void 0:u.d)}},f=>{if(!a){a=!0;const u=d(t),y=g(t,r,n);I(r,f),m(f),(u==null?void 0:u.d)!==y.d&&D(t,y,u==null?void 0:u.d)}}),c=f=>{a||(a=!0,f.then(u=>G(r,u),u=>I(r,u)),l(f))}});return r.status="pending",$(r,l=>{l&&c(l),o==null||o()}),g(t,r,n)}return g(t,e,n)},F=(t,e,n)=>{const o=d(t),c={d:(o==null?void 0:o.d)||new Map,e};return n&&p(t,c,n),o&&L(o,c)&&o.d===c.d?o:(h(t,c),c)},w=t=>{const e=d(t);if(e&&(e.d.forEach((a,f)=>{f!==t&&!i.has(f)&&w(f)}),Array.from(e.d).every(([a,f])=>a===t||d(a)===f)))return e;const n=new Map;let o=!0;const c=a=>{if(a===t){const u=d(a);if(u)return n.set(a,u),S(u);if(C(a))return n.set(a,void 0),a.init;throw new Error("no atom init")}const f=w(a);return n.set(a,f),S(f)};let r,l;const m={get signal(){return r||(r=new AbortController),r.signal},get setSelf(){return!l&&q(t)&&(l=(...a)=>{if(!o)return k(t,...a)}),l}};try{const a=t.read(c,m);return N(t,a,n,()=>r==null?void 0:r.abort())}catch(a){return F(t,a,n)}finally{o=!1}},H=t=>S(w(t)),J=t=>{let e=i.get(t);return e||(e=A(t)),e},j=(t,e)=>!e.l.size&&(!e.t.size||e.t.size===1&&e.t.has(t)),K=t=>{const e=i.get(t);e&&j(t,e)&&W(t)},R=t=>{const e=i.get(t);e==null||e.t.forEach(n=>{if(n!==t){const o=d(n),c=w(n);(!o||!M(o,c))&&R(n)}})},T=(t,...e)=>{let n=!0;const o=l=>S(w(l)),c=(l,...m)=>{let a;if(l===t){if(!C(l))throw new Error("atom not writable");const f=d(l),u=N(l,m[0]);(!f||!M(f,u))&&R(l)}else a=T(l,...m);return n||O(),a},r=t.write(o,c,...e);return n=!1,r},k=(t,...e)=>{const n=T(t,...e);return O(),n},A=(t,e)=>{const n={t:new Set(e&&[e]),l:new Set};if(i.set(t,n),w(t).d.forEach((o,c)=>{const r=i.get(c);r?r.t.add(t):c!==t&&A(c,t)}),w(t),q(t)&&t.onMount){const o=t.onMount((...c)=>k(t,...c));o&&(n.u=o)}return n},W=t=>{var e;const n=(e=i.get(t))==null?void 0:e.u;n&&n(),i.delete(t);const o=d(t);o&&(z(o)&&B(o.v),o.d.forEach((c,r)=>{if(r!==t){const l=i.get(r);l&&(l.t.delete(t),j(r,l)&&W(r))}}))},D=(t,e,n)=>{const o=new Set(e.d.keys());n==null||n.forEach((c,r)=>{if(o.has(r)){o.delete(r);return}const l=i.get(r);l&&(l.t.delete(t),j(r,l)&&W(r))}),o.forEach(c=>{const r=i.get(c);r?r.t.add(t):i.has(t)&&A(c,t)})},O=()=>{for(;v.size;){const t=Array.from(v);v.clear(),t.forEach(([e,n])=>{const o=d(e);if(o){o.d!==(n==null?void 0:n.d)&&D(e,o,n==null?void 0:n.d);const c=i.get(e);c&&!(n&&!z(n)&&(M(n,o)||L(n,o)))&&c.l.forEach(r=>r())}})}};return{get:H,set:k,sub:(t,e)=>{const n=J(t);O();const o=n.l;return o.add(e),()=>{o.delete(e),K(t)}}}});let P;const Q=b("getDefaultStore",()=>(P||(P=x()),P))}}});
