System.register(["jotai/vanilla"],function(P){"use strict";var f;return{setters:[function(W){f=W.atom}],execute:function(){P({atomFamily:J,atomWithDefault:X,atomWithObservable:tt,atomWithReducer:z,atomWithReset:T,atomWithStorage:Z,createJSONStorage:j,freezeAtom:K,freezeAtomCreator:q,loadable:nt,selectAtom:C,splitAtom:U,unstable_unwrap:it});const W=P("RESET",Symbol());function T(n){const e=f(n,(r,c,s)=>{const o=typeof s=="function"?s(r(e)):s;c(e,o===W?n:o)});return e}function z(n,e){const r=f(n,(c,s,o)=>s(r,e(c(r),o)));return r}function J(n,e){let r=null;const c=new Map,s=o=>{let t;if(e===void 0)t=c.get(o);else for(const[i,u]of c)if(e(i,o)){t=u;break}if(t!==void 0)if(r!=null&&r(t[1],o))s.remove(o);else return t[0];const a=n(o);return c.set(o,[a,Date.now()]),a};return s.remove=o=>{if(e===void 0)c.delete(o);else for(const[t]of c)if(e(t,o)){c.delete(t);break}},s.setShouldRemove=o=>{if(r=o,!!r)for(const[t,a]of c)r(a[1],t)&&c.delete(t)},s}const L=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),$=new WeakMap,_=(n,e,r,c)=>{const s=L(()=>new WeakMap,$,e),o=L(()=>new WeakMap,s,r);return L(n,o,c)};function C(n,e,r=Object.is){return _(()=>{const c=Symbol(),s=([t,a])=>{if(a===c)return e(t);const i=e(t,a);return r(a,i)?a:i},o=f(t=>{const a=t(o),i=t(n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(s):s([i,a])});return o.init=c,o},n,e,r)}const x=new WeakMap,F=(n,e)=>(x.has(e)?x:x.set(e,n())).get(e),E=n=>{if(typeof n!="object"||n===null)return;Object.freeze(n);const e=Object.getOwnPropertyNames(n);for(const r of e){const c=n[r];E(c)}return n};function K(n){return F(()=>f(e=>E(e(n)),(e,r,c)=>r(n,c)),n)}function q(n){return(...e)=>{const r=n(...e),c=r.read;return r.read=(s,o)=>E(c(s,o)),r}}const A=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),B=new WeakMap,G=(n,e,r)=>{const c=A(()=>new WeakMap,B,e);return A(n,c,r)},H={},R=n=>!!n.write,Q=n=>typeof n=="function";function U(n,e){return G(()=>{const r=new WeakMap,c=(t,a)=>{let i=r.get(t);if(i)return i;const u=a&&r.get(a),l=[],m=[];return t.forEach((w,v)=>{const b=e?e(w):v;m[v]=b;const g=u&&u.atomList[u.keyList.indexOf(b)];if(g){l[v]=g;return}const S=h=>{const d=h(s),y=h(n),k=c(y,d==null?void 0:d.arr).keyList.indexOf(b);if(k<0||k>=y.length){const p=t[c(t).keyList.indexOf(b)];if(p)return p;throw new Error("splitAtom: index out of bounds for read")}return y[k]},O=(h,d,y)=>{const k=h(s),p=h(n),M=c(p,k==null?void 0:k.arr).keyList.indexOf(b);if(M<0||M>=p.length)throw new Error("splitAtom: index out of bounds for write");const at=Q(y)?y(p[M]):y;d(n,[...p.slice(0,M),at,...p.slice(M+1)])};l[v]=R(n)?f(S,O):f(S)}),u&&u.keyList.length===m.length&&u.keyList.every((w,v)=>w===m[v])?i=u:i={arr:t,atomList:l,keyList:m},r.set(t,i),i},s=f(t=>{const a=t(s),i=t(n);return c(i,a==null?void 0:a.arr)});s.init=void 0;const o=R(n)?f(t=>t(s).atomList,(t,a,i)=>{switch(i.type){case"remove":{const u=t(o).indexOf(i.atom);if(u>=0){const l=t(n);a(n,[...l.slice(0,u),...l.slice(u+1)])}break}case"insert":{const u=i.before?t(o).indexOf(i.before):t(o).length;if(u>=0){const l=t(n);a(n,[...l.slice(0,u),i.value,...l.slice(u)])}break}case"move":{const u=t(o).indexOf(i.atom),l=i.before?t(o).indexOf(i.before):t(o).length;if(u>=0&&l>=0){const m=t(n);u<l?a(n,[...m.slice(0,u),...m.slice(u+1,l),m[u],...m.slice(l)]):a(n,[...m.slice(0,l),m[u],...m.slice(l,u),...m.slice(u+1)])}break}}}):f(t=>t(s).atomList);return o},n,e||H)}const V=(n,e)=>typeof e=="function"?e(n):e;function X(n){const e=Symbol(),r=f(e),c=f((s,o)=>{const t=s(r);return t!==e?t:n(s,o)},(s,o,t)=>{if(t===W)return o(r,e);const a=s(c);return a instanceof Promise?a.then(i=>o(r,V(i,t))):o(r,V(a,t))});return c}function j(n){let e,r;const c={getItem:(s,o)=>{var t,a;const i=l=>{if(l=l||"",e!==l){try{r=JSON.parse(l)}catch{return o}e=l}return r},u=(a=(t=n())==null?void 0:t.getItem(s))!=null?a:null;return u instanceof Promise?u.then(i):i(u)},setItem:(s,o)=>{var t;return(t=n())==null?void 0:t.setItem(s,JSON.stringify(o))},removeItem:s=>{var o;return(o=n())==null?void 0:o.removeItem(s)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&(c.subscribe=(s,o,t)=>{if(!(n()instanceof window.Storage))return()=>{};const a=i=>{if(i.storageArea===n()&&i.key===s){let u;try{u=JSON.parse(i.newValue||"")}catch{u=t}o(u)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),c}const Y=j(()=>typeof window<"u"?window.localStorage:void 0);function Z(n,e,r=Y){const c=f(e);return c.onMount=s=>{const o=r.getItem(n,e);o instanceof Promise?o.then(a=>s(a)):s(o);let t;return r.subscribe&&(t=r.subscribe(n,s,e)),t},f(s=>s(c),(s,o,t)=>{const a=typeof t=="function"?t(s(c)):t;return a===W?(o(c,e),r.removeItem(n)):(o(c,a),r.setItem(n,a))})}function tt(n,e){const r=s=>{if("e"in s)throw s.e;return s.d},c=f(s=>{var o;let t=n(s);const a=(o=t[Symbol.observable])==null?void 0:o.call(t);a&&(t=a);let i;const u=()=>new Promise(d=>{i=d}),l=e&&"initialValue"in e?{d:typeof e.initialValue=="function"?e.initialValue():e.initialValue}:u();let m,w;const v=d=>{w=d,i==null||i(d),m==null||m(d)};let b,g;const S=()=>!m,O=()=>{b&&(clearTimeout(g),b.unsubscribe()),b=t.subscribe({next:d=>v({d}),error:d=>v({e:d}),complete:()=>{}}),S()&&e!=null&&e.unstable_timeout&&(g=setTimeout(()=>{b&&(b.unsubscribe(),b=void 0)},e.unstable_timeout))};O();const h=f(w||l);return h.onMount=d=>(m=d,w&&d(w),b?clearTimeout(g):O(),()=>{m=void 0,b&&(b.unsubscribe(),b=void 0)}),[h,t,u,O,S]});return f(s=>{const[o]=s(c),t=s(o);return t instanceof Promise?t.then(r):r(t)},(s,o,t)=>{const[a,i,u,l,m]=s(c);if("next"in i)m()&&(o(a,u()),l()),i.next(t);else throw new Error("observable is not subject")})}const I=new WeakMap,et=(n,e)=>(I.has(e)?I:I.set(e,n())).get(e),D={state:"loading"};function nt(n){return et(()=>{const e=new WeakMap,r=f(0),c=f((s,{setSelf:o})=>{s(r);const t=s(n);return t instanceof Promise?e.get(t)||(e.set(t,D),t.then(i=>{e.set(t,{state:"hasData",data:i})},i=>{e.set(t,{state:"hasError",error:i})}).finally(o),D):{state:"hasData",data:t}},(s,o)=>{o(r,t=>t+1)});return f(s=>s(c))},n)}const N=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),ot=new WeakMap,rt=(n,e,r)=>{const c=N(()=>new WeakMap,ot,e);return N(n,c,r)},st=()=>{};function it(n,e=st){return rt(()=>{const r=new WeakMap,c=new WeakMap,s=f(0),o=f((t,{setSelf:a})=>{t(s);const i=t(o),u=t(n);if(u===(i==null?void 0:i.p)){if(r.has(u))throw r.get(u);if(c.has(u))return{p:u,v:c.get(u)}}return u!==(i==null?void 0:i.p)&&u.then(l=>c.set(u,l),l=>r.set(u,l)).finally(a),i&&"v"in i?{p:u,f:e(i.v)}:{p:u,f:e()}},(t,a)=>{a(s,i=>i+1)});return o.init=void 0,f(t=>{const a=t(o);return"v"in a?a.v:a.f})},n,e)}}}});
